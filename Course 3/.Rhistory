e <- rnorm(100, 0, 2)
y <- 0.5 + 2 * x + e
summary(y)
plot(x,y)
?plot
plot(x,y, l)
plot(x,y)
plot(y)
plot(x,y)
plot(x,y, type = 'l')
plot(x,y)
plot(x,y)
sample(1:10, 4)
sample(letters, 7)
set.seed(1)
rpois(5, 2)
?dpois
qpois?
?ppois
?ppois
?qpois
set.seed(10)
x <- rep(0:1, each = 5)
e <- rnorm(10, 0, 20)
y <- 0.5 + 2 * x + e
x
plot(x,y)
?rbinom
bin <- rbinom(10, 2, 0.5)
bin
bin <- rbinom(10, 1, 0.5)
bin
library(datasets)
Rprof()
fit <- lm(y ~ x1 + x2)
Rprof(NULL)
set.seed(1)
rpois(5, 2)
install.packages('XML')
install.packages(XML)
install.packages('XML')
install.packages("XML", repos = "http://www.omegahat.net/R")
library(XML)
install.packages("XML", repos = "http://www.omegahat.net/R")
install.packages("XML")
install.packages("XML2R")
install.packages("xml2")
install.packages("xmlr")
library(xmlr)
fileUrl <- 'https://www.w3schools.com/xml/simple.xml'
doc <- parse.xmlstring(fileUrl, useInternal=TRUE)
doc
library(xmlr)
fileUrl <- 'https://www.w3schools.com/xml/simple.xml'
doc <- parse.xmlstring(fileUrl)
doc
library(jsonlite)
jsonData <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
names(jsonData)
library(jsonlite)
jsonData <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
jsonData
library(jsonlite)
jsonData <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
jsonData$200$fundo
library(jsonlite)
jsonData <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
jsonData$200
library(jsonlite)
jsonData <- fromJSON('https://api.github.com/users/adrianoSantana/repos')
names(jsonData)
library(jsonlite)
jsonData <- fromJSON('https://api.github.com/users/adrianoSantana/repos')
names(jsonData$owner)
data <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
names(data)
data <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
names(data$200)
data <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
names(data[, 200])
data <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
names(data[200])
data <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
names(data['200'])
data <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
names(data)
data <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
myData <- data$200
myData
data <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
myData <- data$'200'
myData
data <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
myData <- data$'200'
names(myData)
data <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
myData <- data$'200'
names(myData$fundo)
data <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
fundo <- data$'200'$fundo
fundo$id
data <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
fundo <- data$'200'$fundo
fundo$id
fundo$razaoSocial
fundo$cnpjFundo
names(jsonData)
names(jsonData$owner)
names(jsonData$owner$login)
library(jsonlite)
jsonData <- fromJSON('https://api.github.com/users/adrianoSantana/repos')
names(jsonData$owner$login)
names(jsonData$owner$avatar_url)
jsonData$owner$avatar_url
jsonData$owner$login
jsonData$full_name
myJson <- toJSON(iris, pretty = TRUE)
myJson
myJson <- toJSON(iris, pretty = TRUE)
names(myJson)
cat(myJson)
myJson
myJson$'Sepal.Length'
iris2 <- fromJSON(myJson)
head(iris2)
df <- fromJSON('http://localhost:3000/dados_fundo_relatorio/95734320000181')
head(df)
View(df)
df <- fromJSON('http://localhost:3000/dados_fundo_relatorio')$'200'
head(df)
View(df)
df <- fromJSON('http://localhost:3000/dados_fundo_relatorio')$'200'$fundo
head(df)
df <- fromJSON('http://localhost:3000/dados_fundo_relatorio')$'200'$'fundo'
head(df)
df <- fromJSON('http://localhost:3000/dados_fundo_relatorio/58277751000130')$'200'$'fundo'
head(df)
View(df)
library(data.table)
install.packages('data.table')
library(data.table)
tables()
library(data.table)
dt <- data.table(x=rnorm(9), y=rep(c('a','b','c'), each = 3 ), z=rnorm(9))
head(dt)
library(data.table)
dt <- data.table(x=rnorm(5), y=c(letters[1:5]), z=rnorm(5))
head(dt)
tables()
dt[, 2]
dt[, 1:3]
dt[dt$x >- 0.5]
dt[dt$x >= 0.5, ]
dt[dt$x > 0.5, ]
dt[dt$x == 0.5, ]
dt[dt$y == 'b', 1:2 ]
head(iris2, 3)
iris2[iris2$Sepal.Length > 5.1, c('Species', 'Sepal.Length')]
dt[, c(2,3)]
dt[c(2,3), ]
dt[, c(2,3)]
dt[, list(mean(x), sum(z))]
df[ , mean('Sepal.Length')]
iris2[ , mean('Sepal.Length')]
iris2[ , mean('Sepal.Length', na.rm = TRUE)]
dtIris <- data.table(iris)
dtIris
dtIris[, mean(Sepal.Length)]
iris2[ , mean('Sepal.Length', na.rm = TRUE)]
iris2[ , mean(Sepal.Length, na.rm = TRUE)]
iris2[ , mean(Sepal.Length, na.rm = TRUE)]
# O pacote data.table
library(data.table)
dt <- data.table(x=rnorm(5), y=c(letters[1:5]), z=rnorm(5))
head(dt)
dt[dt$y == 'b', 1:2 ]
#Usando expressões para calcular valores de um data table
dt[, list(mean(x), sum(z))]
dt[, list(mean(x), sum(z))]
dt[, w:= z^2]
df
dt
# O pacote data.table
library(data.table)
dt <- data.table(x=rnorm(5), y=c(letters[1:5]), z=rnorm(5))
head(dt)
# Consultas ao data table
dt[dt$y == 'b', 1:2 ]
# Usando expressões para calcular valores de um data table
dt[, list(mean(x), sum(z))]
# Adicionando novas colunas
dt[, w:= z^2]
dt
dt[, a:= x>0]
dt
dt[, a:= x>1]
dt
dt[, b:= {v <- (1+v)}, by=a]
dt[, b:= {tmp <- (1+x)}, by=a]
dt
dt[, x]
dt[, c(x,y)]
dt[, c(x,y)]
dt[, 1:3]
dt[, 1:3, by=a]
dt[, sum(x,z), by=a]
dt[, x,z]
dt[, sum(x,z), by=a]
dt[, x,z,a]
dt[, c(x,z,a)]
dt[, [x,z,a]]
dt[, (x,z,a)]
dt[, x,z]
dt
dt[, c(1,3,5)]
dt[, c(1,3,5)]
dt[, sum(x,z), by=a]
install_from_swirl("Getting and Cleaning Data")
library(swirl)
install_from_swirl("Getting and Cleaning Data")
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv'
df <- download.file(fileUrl)
head(df, 3)
ls
ls()
rm(list = ls())
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv'
df <- download.file(fileUrl)
head(df, 3)
getwd
getwd()
setwd('/home/ans3/Área de Trabalho/LearningR')
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv'
destPath <- '/Course 3/data'
df <- download.file(fileUrl, destfile = destPath)
head(df, 3)
setwd('/home/ans3/Área de Trabalho/LearningR/Course 3/')
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv'
destPath <- '/data'
df <- download.file(fileUrl, destfile = destPath)
head(df, 3)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv'
destPath <- './data'
df <- download.file(fileUrl, destfile = destPath)
head(df, 3)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv'
destPath <- './data/ams.csv'
df <- download.file(fileUrl, destfile = destPath)
head(df, 3)
df
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv'
destPath <- './data/ams.csv'
if (!files.exists(destPath)) {
download.file(fileUrl, destfile = destPath)
}
df <- data.frame(destPath)
head(df, 3)
# Week 1 --- Quiz
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv'
destPath <- './data/ams.csv'
if (!file.exists(destPath)) {
download.file(fileUrl, destfile = destPath)
}
df <- data.frame(destPath)
head(df, 3)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv'
destPath <- './data/ams.csv'
if (!file.exists(destPath)) {
download.file(fileUrl, destfile = destPath)
}
df <- read.csv(destPath)
head(df, 3)
View(df)
df$VAL
library(data.table)
df <- data.table(destPath)
head(df, 3)
View(df)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv'
destPath <- './data/ams.csv'
if (!file.exists(destPath)) {
download.file(fileUrl, destfile = destPath)
}
library(data.table)
df <- read.csv(destPath)
df <- data.table(df)
head(df, 3)
df[, .N]
df[df$VAL >= 1000000, .N]
df[df$VAL >= 100, .N]
df[df$VAL >= 100, ]
df[df$VAL >= 1000000, ]
df$VAL
View(df)
df[df$VAL == 24, .N]
df[df$VAL == 24, .N]
df[df$VAL == 24]
sum(df[df$VAL == 24])
sum(df[df$VAL == 24, VAL])
sum(df[df$VAL == 24, VAL])/24
table(df[df$VAL == 24, VAL])
table(df[df$VAL == 24, ])
table(df[df$VAL == 24, VAL])
df[, FES]
unclass(df$FES)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(destFilePath)
}
df <- read_xlsx('./data/Andamento das atividade da plataforma de saldos.xlsx')
df
library(readxl)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(destFilePath)
}
df <- read_xlsx('./data/Andamento das atividade da plataforma de saldos.xlsx')
df
library(readxl)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(destFilePath)
}
df <- read_xlsx(destFilePath)
df
# Question 3
library(readxl)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
df <- read_xlsx(destFilePath)
df
df
dat <- df[18:23, 7:15]
sum(dat$Zip*dat$Ext,na.rm=T)
View(df)
?`readxl-package`
library(readxl)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
df <- read_excel(destFilePath)
df
df
View(df)
View(dat)
library(readxl)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
df <- read_excel(destFilePath)
names(7:15) <- c('Zip', 'CuCurrent', 'PaCurrent', 'Contact', 'Ext', 'Fax', 'email', 'Status')
df
View(dat)
View(df)
library(readxl)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
df <- read_excel(destFilePath)
dat <- df[18:23, 7:15]
names(dat) <- c('Zip', 'CuCurrent', 'PaCurrent', 'Contact', 'Ext', 'Fax', 'email', 'Status')
dat
sum(dat$Zip*dat$Ext,na.rm=T)
View(dat)
library(readxl)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
df <- read_excel(destFilePath)
dat <- df[18:23, 7:15]
names(dat) <- c('Zip', 'CuCurrent', 'PaCurrent', 'Contact', 'Ext', 'Fax', 'email', 'Status')
dat <- as.numeric(dat[, c('Zip', 'Ext')])
library(readxl)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
df <- read_excel(destFilePath)
dat <- df[18:23, 7:15]
names(dat) <- c('Zip', 'CuCurrent', 'PaCurrent', 'Contact', 'Ext', 'Fax', 'email', 'Status')
dat[, c('Zip', 'Ext')] <- as.numeric(dat[, c('Zip', 'Ext')])
dat$'Zip'
unclass(data$'Zip')
type(data$'Zip')
class(data$'Zip')
data$Zip
data$'Zip'
dat$Zip
x <- as.numeric(dat$Zip)
x
library(readxl)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
df <- read_excel(destFilePath)
dat <- df[18:23, 7:15]
names(dat) <- c('Zip', 'CuCurrent', 'PaCurrent', 'Contact', 'Ext', 'Fax', 'email', 'Status')
dat <- as.numeric(dat)
dat$Zip
x <- as.numeric(dat$Ext)
x
x <- as.numeric(dat$'Ext')
x
names(dat)
dat$Ext
library(readxl)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
df <- read_excel(destFilePath)
dat <- df[18:23, 7:15]
names(dat) <- c('Zip', 'CuCurrent', 'PaCurrent', 'PoCurrent' ,'Contact', 'Ext', 'Fax', 'email', 'Status')
dat <- as.numeric(dat)
library(readxl)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
df <- read_excel(destFilePath)
dat <- df[18:23, 7:15]
names(dat) <- c('Zip', 'CuCurrent', 'PaCurrent', 'PoCurrent' ,'Contact', 'Ext', 'Fax', 'email', 'Status')
dat[, c('Zip', 'Ext')] <- as.numeric(dat[, c('Zip', 'Ext')])
sum(dat$Zip*dat$Ext,na.rm=T)
dat[, c('Zip', 'Ext')] <- as.numeric(dat[, c('Zip', 'Ext')])
dat$Ext
x <- as.numeric(dat$Ext)
x
dat[, c('Zip', 'Ext')]
dat[, c('Zip', 'Ext')] <- as.numeric(dat[, c('Zip', 'Ext')])
# Question 3
library(readxl)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx'
destFilePath <- './data/q3.xlsx'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
df <- read_excel(destFilePath)
dat <- df[18:23, 7:15]
names(dat) <- c('Zip', 'CuCurrent', 'PaCurrent', 'PoCurrent' ,'Contact', 'Ext', 'Fax', 'email', 'Status')
dat$Zip <- as.numeric(dat$Zip)
dat$Ext <- as.numeric(dat$Ext)
sum(dat$Zip*dat$Ext,na.rm=T)
install.packages('XML')
install.packages("XML", repos = "http://www.omegahat.org/R", type="source")
install.packages("XML", type = "binary")
install.packages("XML", repos = "http://www.omegahat.net/R")
install.packages("XML", repos = "http://www.omegahat.net/R", dependencies = TRUE)
install.packages("XML", repos = "http://www.omegahat.net/R")
library(XML)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml'
destFilePath <- './data/q4.xml'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
doc <- xmlTreeParse(fileUrl, useInternal=TRUE)
rootNode <- xmlRoot(doc)
xmlName(rootNode)
library(XML)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml'
destFilePath <- './data/q4.xml'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
doc <- xmlTreeParse(destFilePath, useInternal=TRUE)
rootNode <- xmlRoot(doc)
xmlName(rootNode)
xmlName(rootNode)
rootNode
rootNode$row
rootNode$zipCode
rootNode
rootNode$response$row$zipcode
library(XML)
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml'
destFilePath <- './data/q4.xml'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
doc <- xmlParseDoc(destFilePath)
xpathSApply(doc,"/wvt/ergebnis",xmlAttrs)
xpathSApply(doc,"/wvt/ergebnis/stimmen",xmlValue)
doc
fileUrl <- 'https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv'
destFilePath <- './data/q5.csv'
if (!file.exists(destFilePath)) {
download.file(fileUrl, destfile = destFilePath)
}
df <- fread(destFilePath)
df
View(df)
dt <- fread(destFilePath)
dt[, mean(pwgtp15), by= SEX]
